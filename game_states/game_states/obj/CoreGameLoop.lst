                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.2.2 #13350 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module CoreGameLoop
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _CoreGameLoopUpdate
                                     12 	.globl _CoreGameLoopSetup
                                     13 	.globl _puts
                                     14 	.globl _fill_bkg_rect
                                     15 ;--------------------------------------------------------
                                     16 ; special function registers
                                     17 ;--------------------------------------------------------
                                     18 ;--------------------------------------------------------
                                     19 ; ram data
                                     20 ;--------------------------------------------------------
                                     21 	.area _DATA
                                     22 ;--------------------------------------------------------
                                     23 ; ram data
                                     24 ;--------------------------------------------------------
                                     25 	.area _INITIALIZED
                                     26 ;--------------------------------------------------------
                                     27 ; absolute external ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _DABS (ABS)
                                     30 ;--------------------------------------------------------
                                     31 ; global & static initialisations
                                     32 ;--------------------------------------------------------
                                     33 	.area _HOME
                                     34 	.area _GSINIT
                                     35 	.area _GSFINAL
                                     36 	.area _GSINIT
                                     37 ;--------------------------------------------------------
                                     38 ; Home
                                     39 ;--------------------------------------------------------
                                     40 	.area _HOME
                                     41 	.area _HOME
                                     42 ;--------------------------------------------------------
                                     43 ; code
                                     44 ;--------------------------------------------------------
                                     45 	.area _CODE
                                     46 ;res\CoreGameLoop.c:6: void CoreGameLoopSetup(){
                                     47 ;	---------------------------------
                                     48 ; Function CoreGameLoopSetup
                                     49 ; ---------------------------------
      000000                         50 _CoreGameLoopSetup::
                                     51 ;res\CoreGameLoop.c:7: fill_bkg_rect(0,0,31,31, 0);
      000000 AF               [ 4]   52 	xor	a, a
      000001 67               [ 4]   53 	ld	h, a
      000002 2E 1F            [ 8]   54 	ld	l, #0x1f
      000004 E5               [16]   55 	push	hl
      000005 3E 1F            [ 8]   56 	ld	a, #0x1f
      000007 F5               [16]   57 	push	af
      000008 33               [ 8]   58 	inc	sp
      000009 AF               [ 4]   59 	xor	a, a
      00000A 0F               [ 4]   60 	rrca
      00000B F5               [16]   61 	push	af
      00000C AF               [ 4]   62 	xor	a, a
      00000D CDr00r00         [24]   63 	call	_fill_bkg_rect
      000010 E8 05            [16]   64 	add	sp, #5
                                     65 ;res\CoreGameLoop.c:9: printf("Press B to change states again.\n");
      000012 11r18r00         [12]   66 	ld	de, #___str_4
                                     67 ;res\CoreGameLoop.c:10: }
      000015 C3r00r00         [16]   68 	jp	_puts
      000018                         69 ___str_4:
      000018 54 68 69 73 20 69 73    70 	.ascii "This is the core game loop."
             20 74 68 65 20 63 6F
             72 65 20 67 61 6D 65
             20 6C 6F 6F 70 2E
      000033 0A                      71 	.db 0x0a
      000034 50 72 65 73 73 20 42    72 	.ascii "Press B to change states again."
             20 74 6F 20 63 68 61
             6E 67 65 20 73 74 61
             74 65 73 20 61 67 61
             69 6E 2E
      000053 00                      73 	.db 0x00
                                     74 ;res\CoreGameLoop.c:11: uint8_t CoreGameLoopUpdate(){
                                     75 ;	---------------------------------
                                     76 ; Function CoreGameLoopUpdate
                                     77 ; ---------------------------------
      000054                         78 _CoreGameLoopUpdate::
                                     79 ;res\CoreGameLoop.c:12: if (joypadCurrent && J_B) return GAMEPLAYEND;
      000054 FAr00r00         [16]   80 	ld	a, (#_joypadCurrent)
      000057 B7               [ 4]   81 	or	a, a
                                     82 ;res\CoreGameLoop.c:13: else return COREGAMELOOP;
      000058 3E 02            [ 8]   83 	ld	a, #0x02
      00005A C0               [20]   84 	ret	NZ
      00005B 3E 03            [ 8]   85 	ld	a, #0x03
                                     86 ;res\CoreGameLoop.c:14: }
      00005D C9               [16]   87 	ret
                                     88 	.area _CODE
                                     89 	.area _INITIALIZER
                                     90 	.area _CABS (ABS)
